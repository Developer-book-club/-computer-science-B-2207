## 4.2.3 정규화 과정

- 릴레이션을 여러 개로 분리하기 위해 수행하는 과정
- 릴레이션간 잘못된 종속 관계로 인해 발생한 DB 이상 현상을 해결하거나, 저장 공간을 효율적으로 사용하기 위한 목적
    - DB 이상 현상: 데이터 삽입, 삭제시 문제가 발생하는 현상

### 정규화 과정

- 정규형 원칙을 기반으로 정규형을 만들어가는 과정으로, 정규형 (NF, Normal Form)으로 정규화 정도를 표현
- 정규형 원칙
    - 릴레이션이 같은 의미를 표현하지만 더 좋은 구조로 변경되어야 함
    - 자료의 중복성은 감소해야 함
    - 독립적인 관계는 별개의 릴레이션으로 표현해야 함
    - 각 릴레이션은 독립적인 표현이 가능해야 함
- 제1정규형
    - 모든 도메인에 두 개 이상의 값을 가지는 반복 집합이 아닌, 더 이상 분해될 수 없는 원자 값 atomic value 만으로 구성되도록 변경하는 것
- 제2정규형
    - 릴레이션이 제1정규형이며 부분 함수의 종속성을 제거한 형태
    - 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것
    - 릴레이션을 동등하고, 정보 손실이 발생하지 않게 (무손실) 분해해야 함
- 제3정규형
    - 제2정규형이고 기본키가 아닌 모든 속성이 이행적 함수 종속를 만족하지 않는 상태
    - 이행적 함수 종속 transitive FD: A → B, B → C가 존재하면 논리적으로 A → C가 성립하는데, 이때 집합 C가 집합 A에 이행적으로 함수 종속이 된 것
- 보이스/코드 BCNF 정규형
    - 제3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거해 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태
    - 결정자: 함수 종속 관게에서 특정 종속자 dependent를 결정짓는 요소로, ‘X → Y’ 일 때 X는 결정자, Y는 종속자
- 제4정규형
    - 다치 종속성을 제거하고, 특정 속성값에 따라 선택적인 속성을 분리하는 과정
    - 정규화 전 (개발자마다 자격증 값이 존재하고, 또 개발자마다 언어 값이 존재하는 다치 종속 관계 존재)
    
    | 개발자 | 자격증 | 언어 |
    | --- | --- | --- |
    | 홍길동 | 정보처리기사 | C |
    | 홍길동 | 빅데이터 분석기사 | C++ |
    | 장길산 | 정보처리기사 | JAVA |
    - 정규화 후
    
    | 개발자 | 자격증 |
    | --- | --- |
    | 홍길동 | 정보처리기사 |
    | 홍길동 | 빅데이터 분석기사 |
    | 장길산 | 정보처리기사 |
    
    | 개발자 | 언어 |
    | --- | --- |
    | 홍길동 | C |
    | 홍길동 | C++ |
    | 장길산 | JAVA |
- 제5정규형
    - 조인 속성 제거
    - 정규화 전 (4차 정규화 후 조인 연산한 결과)
    
    | 개발자 | 자격증 | 언어 |
    | --- | --- | --- |
    | 홍길동 | 정보처리기사 | C |
    | 홍길동 | 빅데이터 분석기사 | C |
    | 홍길동 | 정보처리기사 | C++ |
    | 홍길동 | 빅데이터 분석기사 | C++ |
    | 장길산 | 정보처리기사 | JAVA |

    - 정규화 후 (조인 속성 제거)

	| 개발자 | 자격증 |
	| --- | --- |
	| 홍길동 | 정보처리기사 |
	| 홍길동 | 빅데이터 분석기사 |
	| 장길산 | 정보처리기사 |

	| 자격증 | 언어 |
	| --- | --- |
	| 정보처리기사 | C |
	| 빅데이터 분석기사 | C++ |
	| 정보처리기사 | JAVA |

	| 개발자 | 자격증 |
	| --- | --- |
	| 홍길동 | C |
	| 홍길동 | C++ |
	| 장길산 | JAVA |

#### 함수 종속성
- 어떤 속성 A의 값을 알면, 다른 속성 B의 값이 '유일하게' 정해지는 관계 
- 이때 A는 결정자, B는 종속자라고 한다

#### 다치 종속성
- 어떤 속성 A가, 다른 속성 B의 값의 '집합'을 결정하는 관계