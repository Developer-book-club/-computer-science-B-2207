## 3.1.2 컴퓨터의 구조

### CPU (Central Processing Unit)

- 개념
    - 제어 장치, 레지스터, 산술논리연산장치로 구성되어 있는 컴퓨터 장치
    - 인터럽트가 발생하면, 커널이 프로그램을 메모리에 올려 프로세스를 올리고, 여기에 존재하는 명령어를 CPU가 처리
- 구성
    - 제어 장치 CU, Control Unit
        - 레지스터 사이 데이터 전송을 감시하고 ALU의 동작을 지시
        - 프로세스 조작을 지시하고 명령어를 해석해 ALU나 다른 부분으로 신호를 보내는 장치
        - 입출력장치간 통신을 제어하고 명령어를 읽고 해석하며 데이터 처리 순서 결정
    - 산술논리  연산장치 ALU, Arithmetic Logic Unit
        - 명령어를 실행하기 위한 실제로 마이크로 연산을 수행하는 장치
        - 산술 연산 (덧셈, 뺄셈)과 논리 연산 (배타적 논리합, 논리곱)을 계산하는 디지털 회로
    - 레지스터 Register
        - CPU 내부에 계산을 위해 임시로 데이터를 저장하는 메모리
        - 내부 버스로 연산치와 직접 연결 되어있어 연산 속도가 다른 메모리에 비해 매우 빠름
        - CPU는 레지스터를 거쳐 데이터를 전달
- CPU의 연산처리

	```c
	int num1 = 5;
	int num2 = 7;
	int result = num1 + num2;
	```

    1. 명령어 인출: CU가 메모리와 레지스터에 계산할 값을 로드
       - 숫자 5와 7을 메모리에 저장 후, 이 값을 edx, eax 레지스터로 가져옴
    2. 명령어 해독: CU가 ALU에 레지스터에 있는 값을 계산하라고 명령
    3. 명령어 실행: ALU가 값을 계산
       - 5와 7을 더하고, 결과값 12를 eax 레지스터에 저장
    4. 저장: CU가 계산된 값을 레지스터를 통해 메모리로 전달, 저장
       - 12를 메모리에 전달, 저장 

### 인터럽트 Interrupt

- 어떤 신호가 들어왔을 때 CPU를 잠시 정지 시키는 것
- I/O 디바이스, 0으로 숫자를 나누는 산술 연산에서의 인터럽트, 프로세스 오류 등으로 발생
- 인터럽트 발생 시 인터럽트 핸들러 함수가 모여 있는 인터럽트 벡터로 가서 인터럽트 핸들러 함수가 실행
- 인터럽트 사이에는 우선 순위가 있음
- HW 인터럽트: IO 디바이스에서 발생하는 인터럽트
- SW 인터럽트 (트랩, trap): 프로세스 오류 등으로 프로세스가 시스템 콜을 호출할 때 발동
- 인터럽트 핸들러: 실제 인터럽트를 처리하기 위한 루틴으로, OS 코드 영역에 이미 프로그램 되어 있음
- 인터럽트 벡터: 인터럽트 발생 시 처리해야 할 인터럽트 핸들러의 주소를 인터럽트 별로 보관하고 있는 테이블

### DMA 컨트롤러

- IO 디바이스가 메모리에 직접 접근할 수 있도록 하는 HW 장치
- CPU에 너무 많은 인터럽트가 요청이 들어오지 않도록 하는 목적
- CPU 와 DMA 컨트롤러가 동일한 작업을 하지 않도록 함

### 메모리 Memory

- 전자회로에서 데이터나 상태, 명령어를 기록하는 장치 (기억 장치)
- 보통 RAM (Random Access Memory)를 일컬음
- 메모리가 크면 더 많은 일을 동시에 할 수 있음

### 타이머 Timer

- 특정 프로그램에 작업 시간 제한
- 시간이 많이 걸리는 프로그램의 작동을 제한하기 위해 존재

### 디바이스 컨트롤러 Device Controller

- 컴퓨터와 연결되어 있는 IO 디바이스들의 작은 CPU