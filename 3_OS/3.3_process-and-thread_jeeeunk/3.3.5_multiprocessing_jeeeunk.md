## 3.3.5 멀티 프로세싱

### 멀티 프로그래밍 Multi-programming

- 단일 프로세서 (CPU) 상에서 여러개의 프로세스가 동시에 번갈아가며 실행되는 것
- 프로세서가 입출력 작업의 종료를 대기할 동안 하나의 프로세서에서 다른 프로세스를 수행할 수 있도록 하는 것

### 멀티 프로세싱 Multi-processing

- 여러 개의 프로세서(CPU)를 통해 동시에 두 가지 이상의 일을 수행할 수 있는 것 (보통 멀티코어시스템 포함)
- 하나 이상의 일을 병렬로 처리 가능
- 높은 신뢰성: 특정 프로세스에 문제가 발생 해도 다른 프로세스 이용 가능
- 높은 경제성: 단일 프로세스보다 저렴한 비용 (주변 장치, 저장 장치, 전원 공급 장치를 모두 공유하는 프로세서들이 하나의 데이터 집합을 연산)
- SMP (Symmetric Multi-processing, 대칭형 멀티 프로세싱) : 운영체제와 메모리를 공유하는 여러 프로세스가 여러 프로그램을 수행
- AMP (Asymmetric Multi-processing, 비대칭형 멀티 프로세싱) : 주 프로세서가 전체 시스템을 통제하고 다른 프로세서는 명령을 따르거나 정해진 일을 수행하는 주-종속 시스템 형태

### 멀티 태스킹 Multi-tasking

- Task (프로세서의 개념을 포괄하는 것)가 하나의 프로세서 상에서 운영체제의 스케쥴링 방식에 따라 번갈아가며 수행되는 것, 마치 동시에 처리되는 것처럼 보임
- 스케쥴링 방식: 멀티 프로그래밍 방식, 시분할 방식, 실시간 시스템 방식
- 선점형 Preemption:  프로세스가 CPU를 할당받은 상태에서 OS가 강제로 CPU를 뺏어올 수 있는 형태, 대부분의 OS가 취하고 있는 형태
- 비선점형 Non-preemptive: 프로세스가 CPU를 할당받으면 작업이 끝날 때까지 CPU를 뺏어올 수 없는 형태

### 웹 브라우저

- 브라우저 프로세스: 주소 표시줄, 북마크, 뒤로 가기 버튼 등을 담당하며 네트워크 요청이나 파일 접근 등 권한을 담당
- 렌더러 프로세스: 웹 사이트가 ‘보이는' 부분을 모두 제어
- 플러그인 프로세스: 웹 사이트에서 사용하는 플러그인을 제어
- GPU 프로세스: GPU를 이용해 화면 그리는 부분을 담당

### IPS (Inter Process Communication)

- 프로세스간 데이터를 주고 받고, 공유 데이터를 관리하는 매커니즘
- 멀티 프로세스는 IPS가 가능
- 스레드보다는 속도가 느림
- 프로세스 간 데이터를 동기화하고 보호하기 위해 세마포어와 뮤텍스를 사용
- 공유 메모리 Shared Memory
    - 여러 프로세스가 시스템 상 동일한 메모리 블록에 접근할 수 있도록 권한을 부여해, 프로세스가 서로 통신할 수 있도록 공유 버퍼를 생성
    - 메모리 자체를 공유하기에 불필요한 데이터 복사를 위한 오버헤드가 발생하지 않아 빠르고 동기화가 필요
    - 프로세스간 Read, Write를 모두 필요로 할 때 사용
    - 대량 정보를 다수 프로세스에 배포 가능
    - 중개자 없이 바로 메모리에 접근하기에 가장 빠름
    - HW 관점에서 RAM은 CPU가 접근할 수 있는 가장 큰 공유 메모리
- 익명 파이프 Unamed pipe
    - 단방향 방식(한쪽 방향으로만 통신) 의 읽기 전용, 쓰기 전용 파이프를 만들어서 작동하는 방식
    - 프로세스 간 FIFO 방식으로 읽히는 임시 공간인 파이프를 기반으로 데이터를 주고 받음
    - 부모, 자식 프로세스 (통신할 프로세스를 명확하게 알 수 있는 경우) 간에서만 사용 가능
- 명명 파이프 Named pipe
    - 파이스 서버와 하나 이상의 파이프 클라이언트 사이 통신을 위한 명명된 단방향/이중 파이프
    - 클라이언트/서버 통신을 위한 별도의 파이프를 제공하며 여러 파이프를 동시에 사용 가능
    - 컴퓨터의 프로세스사이, 혹은 다른 네트워크의 컴퓨터와도 통신 가능 (통신할 프로세스를 알 수 없음)
- 파일
    - 디스크에 저장된 데이터 또는 파일 서버에서 제공한 데이터
- 소켓 Socket
    - 네트워크 소켓 통신을 이용, 동일한 컴퓨터의 다른 프로세스나 네트워크의 다른 컴퓨터로 데이터를 전송하는 방식
    - 각각 PC의 PORT를 담당하는 소켓은 하나의 프로세스
    - 원격에서 프로세스 간 데이터를 공유할 때 사용
    - 전이중 (Full duple, 양방향) 통신이 가능
    - TCP와 UDP가 있음
- 메시지 큐 Message Queue
    - 메시지를 큐 데이터 구조 형태로 관리하는 것
    - 커널의 전역변수 형태 등 커널에서 전역적으로 관리
    - 다른 IPS 방식에 비해 사용 방법이 직관적이고 간단
- ref
    - [https://donghoson.tistory.com/15](https://donghoson.tistory.com/15)